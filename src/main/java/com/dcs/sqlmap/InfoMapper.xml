<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.dcs.dao.PojoToMapperDao">

	<select id="findListInfo" resultType="com.dcs.pojo.ListInfo">
		select * from t_list_info where creator = #{creator} and list_id = #{listId}
		and data_status = "001"
		order by ${sortField} ${orderType} limit #{page.pageIndex-1},#{page.pageSize}  
	</select>
	
	<select id="selectInfo" resultType="java.util.HashMap">
		SELECT
			title,t_cadres_info.*
		FROM
			t_list_info,
			${table}
		WHERE
			t_cadres_info.info_id = #{infoId}
		AND t_cadres_info.info_id = t_list_info.info_id
	</select>
	
	<select id="selectListInfo" resultType="com.dcs.pojo.ListInfo">
		elect * from t_list_info where user_level = #{level} and list_id = #{listId}
		and data_status = "001"
		order by ${sortField} ${orderType} limit #{page.pageIndex-1},#{page.pageSize} 
	</select>
	
	<insert id="insertInfo" >
		insert into ${table}  
         <foreach collection="map.keys" item="key" open="(" close=")" separator="," >  
            ${key}  
         </foreach>  
         values   
         <foreach collection="map.keys"  item="key" open="(" close=")" separator=",">  
            #{map[${key}]}  
         </foreach>
	</insert>

	<update id="updateInfo" >
		update ${table} set 
		<foreach collection="map.keys" item="key" separator=",">
			${key} = #{map[${key}]}
		</foreach>
		where id = #{id}
	</update>
		
	<delete id="deleteInfo">
		update ${table} set data_status = "000" where id = #{id}
	</delete>
	
	<delete id="deleteList">
		update t_list_info set data_status = "000" where info_id = #{info_id}
	</delete>
	
</mapper>